<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        .body{
            margin: 0px;
        }
        .container{
            width: 1200px;
            height: 650px;
            background-color: aqua;
            
            
        }
        .content{
            width: 1000px;
            height: 650px;
            background-color: antiquewhite;
            background-image: url("../images/roller.jpeg");
            background-repeat: no-repeat;
            background-size: 100% 100%;
            background-position: center;
            float: left;
            position: relative;
            /* static에 left , top 적용가능한 위치 속성,즉 다른 태그와의 관계에서 할당받은 본연의 위치 */
        }
        .aside{
            width: 200px;
            height: 650px;
            background-color: rgb(163, 209, 181);
            float: left;
            overflow: scroll;
        }
    </style>
    <script>
        // 실시간으로 유저가 움직이는 모든 이벤트 객체는 내장된 event객체가 처리함
        let txt = "";
        let posList = new Array();//좌표를 누적할 배열 선언
                                    //현재 까지는 1차원 배열 
                                    // 추후 좌표를 넣을 예정이므로 2차원 배열이 될 예정
                                    // 프로그램이 끝까지 살아있어야 함으로 전역변수여야한다.
        let img;     //다른 함수에서도 사용하기위해 전역변수로 선언
        let i =0;
        function move(){
            let x = event.clientX; //마우스 x좌표
            let y = event.client
            ; //마우스 y좌표
            //console.log(`현재 마우스 좌표는 ${x},${y}`);
            let pos = [x,y];
            posList.push(pos);
            //java.util.List는 동적 요소 추가시 add() 메서드를 사용하지만
            //js는 배열에 동적 요소를 추가할때 push()를 사용
            
            txt = txt+`현재 마우스 좌표는 ${x},${y} \n`;
            document.querySelector(".aside").innerText=txt;
            //이 함수를 호출할때마다 ,div요소를 동적으로 생성하여 content div 를 화면에 부착
            let dot = document.createElement("div");
            //모든 태그는 기본이 투명이므로 배경색을 부여하자.
            dot.style.backgroundColor = "red";
            dot.style.width = "10px";
            dot.style.height = "10px";

            //부모에 자식을 붙이는 행위
            document.querySelector(".content").appendChild(dot);
            dot.style.position = "absolute";
            // 부모인 content를 기준으로 한 위치 속성인 absolute 를 적용
            // 이 경우 content 의 0,0 점이 기준이 됨
            // 단, 자식요소에 static 아닌 position이 명시될 경우, 반드시 부모 요소에도 position 을 명시
            dot.style.left = x + "px";
            dot.style.top = y + "px";

        }
        function init(){
            // 동적 = createElement
            img = document.createElement("img");
            img.src="/D1119/images/rollersit.jpeg";
            img.style.width = "10%";
            img.style.height = "10%";
            //html 태그요소는 개발자가 특별히 position을 명시하지 않으면 디폴트가 static 이므로
            //left, top 이 적용되지 않으므로 왼쪽 상단을 기준으로 부착된다.
            //따라서 위치를 자유롭게 하고 싶다면 개발자는 css의 position 을 명시할 수있다.
            //1) absolute : 부모요소를 기준으로 한 위치속성
            // 2) relative : 현재 자신의 본연의 위치를 기준으로 한 위치속성 !! 밀릴 수 있음 !!
            // 현재 캐릭터는 부모인 content div 를 기준으로 위치를 지정할 것이므로 absolute로 지정해야한다.
            img.style.position = "absolute";
            img.style.left = `8px`;
            img.style.top = `300px`;



            document.querySelector(".content").appendChild(img);

        }
        function manual(){
            //문서내의 content 영역 안에 존재하는 캐릭터 위치를 누적된 좌표를 대상으로 
            // 순서대로 접근해 보자.
            img.style.left = posList[i][0] + "px";
            img.style.top = posList[i][1] + "px";
            i++;
        }
        function auto(){
            setInterval(manual,300);
        }
    </script>
</head>
<body onload="init()">
    <div class="container">
        <div class ="content" onmousedown="move()">
            
        </div>
        <div class = "aside" >
            
        </div>
        <button onclick="manual()">수동</button>
        <button onclick="auto()">자동</button>
    </div>
</body>
</html>